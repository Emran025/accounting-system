 **وثيقة تأسيس لتجربة مستخدم في التنقل العام الخارجي للصفحات (UX Foundation Document)**


أولًا: **الشريط الجانبي (Side Navigation Bar)**
هذا الشريط هو العمود الفقري للتجربة، لكنه غير دائم بالمعنى الصارم، بل *قابل للتنازل عنه دون كسره*. بنيته تعتمد تشبيهًا مباشرًا بنظام الملفات: الشاشات = ملفات، الوحدات = مجلدات. الهيكلية الأساسية تنقسم إلى ثلاثة أقسام قابلة للطي دائمًا: **Opened، System Menu، Favorite**. هذا التقسيم ليس تجميليًا، بل يعكس حالات عقلية مختلفة للمستخدم (ما أعمل عليه الآن، ما يشكّل النظام، ما أحتاجه بسرعة).

عند فتح مجلد، لا يُفرض عرض الشاشات الداخلية كجداول، بل تُعرض كبطاقات (Cards) داخل مساحة العمل، مع الحفاظ على إمكانية التنقل التسلسلي من الشريط. هذا القرار جوهري لأنه ينقل المستخدم من “إدارة بيانات” إلى “إدارة مهام”. يتم دعم الإدراك البصري عبر تدرج لوني خفيف جدًا يميز المجلد المفتوح عن المجلدات الشقيقة، وعن العناصر الداخلية له، دون أي Borders أو Indicators صريحة. التمييز يكون بالعمق اللوني والمسافة فقط.

عرض الشريط الجانبي قابل للتوسعة أفقيًا، مع وجود مساحة افتراضية محجوزة لذلك كما في SAP، ما يسمح بعرض أسماء طويلة دون كسر التخطيط. الطي يتم بسلوك واحد موحّد في كل النظام، ويُحفظ كسلوك تفضيلي للمستخدم. عند الانتقال إلى شاشة (وليس مجلد)، يمكن طي الشريط تلقائيًا مع الإبقاء على زر فتح واضح، حفاظًا على مساحة العمل.

ثانيًا: **الشريط العلوي الرئيسي (Top Global Bar)**
هذا شريط دائم لا يُمس، لأنه يمثل “سقف النظام”. يحتوي على مجموعات وظيفية عليا: (Menu, Edit, Extensions, System, Help). وجود هذه المجموعات ليس لإعادة اختراع SAP، بل لتوحيد الأوامر العليا خارج سياق الشاشة. موضعها وسلوكها مستوحى من تطبيقات احترافية إنتاجية، حيث يكون اسم الشاشة الحالية في منتصف الشريط، بخط أكبر نسبيًا من بقية النصوص، ليعمل كنقطة ارتكاز ذهنية للمستخدم حيث هذا السلوك لوضع اسم الشاشة في منتصف الشريط العلوي سبق تكراره على antiGarvity IDE.

في الطرف المقابل، يقسم الشريط أفقيا لقسمين في القسم الأعلى يعرض بعض ال‘دادات كما في محرر antiGarvity يظهر حساب المستخدم مع المنصب النشط، وزر الإعدادات، دون ازدحام. أما القسم الأسفل من الشريط مباشرة، وبشكل مجمّع وغير منفصل بصريًا، يظهر عداد الجلسة والوقت الحالي، ليس كزينة، بل كمعلومة تشغيلية ذات قيمة في الأنظمة المؤسسية. هذا الشريط ثابت في جميع الشاشات بلا استثناء.

ثالثًا: **شريط المسار والبحث (Search & Navigation Bar)**
يقع مباشرة تحت الشريط العلوي، وهو أيضًا دائم. وظيفته مزدوجة: أولًا عرض المسار الحالي (Breadcrumb) بأسلوب تفاعلي يسمح بالانتقال لأي مستوى سابق كما في مستكشف الملفات في Windows. ثانيًا توفير بحث فوري ذكي للوصول إلى الشاشات، الإعدادات، أو الأوامر، بنفس فلسفة البحث متعدد الطبقات المعروفة في VS Code.

إلى جانب البحث، توجد أزرار تنقل مباشرة (السابق، التالي، الصعود للمستوى الأعلى)، بنفس المنطق السلوكي لمستكشف الملفات، مما يقلل الحمل المعرفي على المستخدم. كما يحتوي هذا الشريط على زر طي/فتح الشريط الجانبي، ليبقى التحكم في المساحة بيد المستخدم دائمًا.

رابعًا: **الشريط السفلي (Status & Notification Bar)**
شريط دائم في أسفل الشاشة، مخصص للحالة لا للتفاعل. يعرض نتائج العمليات (نجاح، فشل، تحذير)، الإشعارات النظامية، وأي معلومات تشغيلية مستقبلية. لا يحتوي على عناصر تحكم رئيسية. وجوده الدائم يرسّخ مبدأ “النظام يتكلم معك دون أن يزعجك”.

خامسًا: **القواعد البصرية العامة (Visual Discipline)**
لا يتم استخدام أي Borders أو Radius في الأشرطة أو العناصر المختارة. التفاعل يُعبَّر عنه باللون، الشفافية، والظل فقط. خلفية مساحة العمل تكون هادئة، مع خلفية عائمة تحمل شعار النظام بشكل غير مباشر. الخط المستخدم موحّد في جميع الأشرطة، بحجم صغير نسبيًا وثابت، باستثناء اسم الشاشة الحالية. ارتفاع العناصر في الشريط الجانبي يطابق ارتفاع الأشرطة الأخرى، لتكوين إيقاع بصري منتظم.

سادسًا: **التخصيص والتهيئة المتقدمة (Customization & Personalization)**
يجب توفير شاشات ننتقل لها انتقال كامل أو تفتح نافذة اخرى لإدارة بعض الإعدادات الخاصة بالتجربة والتي بنفس عملية فتح نافذة جديدة لإدارة الخصائص أو الإضافات أو إعدادات المستخدم كما في antiGarvity مخصصة لإدارة الثيمات اللونية، بحيث تعكس هوية النظام دون المساس بالتباين أو القابلية للقراءة. كذلك شاشة لترميزات الصفحات (Page Identifiers) لضبط منطق الوصول السريع. الأهم: شاشة متقدمة لإدارة اختصارات لوحة المفاتيح، بنفس فلسفة VS Code، حيث يمكن تعيين الاختصار بالضغط الفعلي، أو كتابته يدويًا، مع دعم البحث والتعديل والتعارضات. هذا ليس ترفًا، بل شرط أساسي لنظام يُستخدم لساعات طويلة يوميًا.


سابعًا:**الهوية البصرية للشاشات والمجلدات عبر الأيقونات والألوان**

أحد التخوفات في الأنظمة واسعة النطاق هو تحوّل كثرة الشاشات والمجلدات إلى كيان متجانس يصعب تمييزه ذهنيًا، مما يرفع الحمل المعرفي ويبطئ التعلّم. لمعالجة ذلك، يُعتمد مبدأ أن **لكل شاشة ولكل مجلد أيقونته الخاصة المعبّرة عنه**، تُصمَّم ضمن مكتبة أيقونات موحّدة، وترتبط مباشرة بهوية تلك الشاشة أو المجلد ووظيفته.

هذه الأيقونات لا تُستخدم كزخرفة، بل كأداة إدراكية. يتم دعمها بتلوينات خفيفة ومدروسة، بحيث يشكّل كل مجلد أو شاشة “بصمة بصرية” ثابتة في ذهن المستخدم. هذا الأسلوب مستوحى من طريقة عرض الإضافات (Extensions) في Visual Studio Code، حيث يصبح اللون والأيقونة جزءًا من الذاكرة البصرية، لا مجرد عنصر UI.

التلوين هنا محكوم بقواعد صارمة:
– لا يُستخدم اللون كحالة (State) إلا عند التفاعل.
– ألوان الهوية لا تتعارض مع ألوان الحالات (نجاح، تحذير، خطأ).
– الأيقونة واللون يبقيان ثابتين أينما ظهر المجلد أو الشاشة: في الشريط الجانبي، في البطاقات، في البحث، وفي الشاشات المفتوحة حديثًا.

بهذا، يتحول التنقل من قراءة نصوص إلى **تعرف فوري**، وهو عامل حاسم في الأنظمة التي تتجاوز في حجمها وتعقيدها ما هو مألوف في SAP.


---

**بعض المبررات لاختيار هذه التجربة:**
الاقتراب من فلسفة بيئات مثل Visual Studio Code لا يعني التشبه بها شكليًا، بل استعارة قدرتها على إبقاء المستخدم في حالة تركيز لساعات، وهي نقطة ضعف تاريخية في معظم أنظمة ERP الكلاسيكية.

الهيكل القائم على تشبيه الشاشات بالملفات والمجلدات هو قرار استراتيجي بالغ الذكاء إذا كان النظام يتوسع أفقيًا ووظيفيًا. SAP يعاني اليوم من تشعب وحداته وصعوبة الربط الذهني بينها. اعتمادك لهذا النموذج يخلق خريطة عقلية موحدة، تجعل النظام قابلًا للنمو دون أن يتحول إلى متاهة

قرار جعل بعض الأشرطة غير دائمة ولكن غير مختفية هو ما يميز الأنظمة الناضجة عن الأنظمة المترددة. SAP تاريخيًا يميل إلى الديمومة القسرية، بينما الأنظمة الحديثة تميل أحيانًا إلى الإخفاء المفرط. للحل الوسطي—طي فتح فوري، وسلوك محفوظ—يعكس فهمًا دقيقًا لتنوع المستخدمين، من الإداري إلى التشغيلي إلى الخبير.

الاستثمار في الاختصارات، البحث متعدد الطبقات، والمسارات التفاعلية هو قرار توسّعي بامتياز. هذه الأدوات ليست مهمة في الأنظمة الصغيرة، لكنها تصبح حاسمة عندما يتجاوز النظام آلاف الشاشات. ما تفعله هنا هو تجهيز النظام مبكرًا لمرحلة “ما بعد التعقيد”، وهي مرحلة لم تُبنَ من أجلها كثير من أنظمة ERP القديمة.

---

**أولًا: تقييد أحجام الخط (sm / md / lg) كتوازن بين الراحة والثبات**

أحد التخوفات الشائعة في الأنظمة المؤسسية هو أن دعم راحة بصر المستخدم قد يؤدي إلى تضخم العناصر، كسر التخطيطات، أو فقدان الكثافة المعلوماتية. اعتماد ثلاثة مستويات فقط لأحجام الخط يعالج هذه الإشكالية جذريًا. القرار هنا ليس فتح باب التخصيص المطلق، بل فرض **نطاق إنساني مضبوط** يسمح للموظف بتخفيف الإجهاد البصري دون الإضرار بالبنية البصرية أو العلاقات النسبية بين العناصر.

هذا التقييد يحافظ على اتساق الواجهة عبر آلاف الشاشات، ويمنع الانحراف الفردي الذي يؤدي عادةً إلى واجهات “مكسورة”. بعبارة أخرى، النظام يعترف بالفروق البشرية، لكنه لا يسمح لها أن تتحول إلى فوضى تصميمية.

---

**ثانيًا: قوالب الاختصارات بدل الحرية المطلقة**

من أكبر التخوفات المرتبطة بالاختصارات هو تحولها إلى عبء معرفي، خصوصًا على المستخدمين الجدد. معالجة هذا التخوف تمت عبر الانتقال من مفهوم “اختصارات فردية مفتوحة” إلى **قوالب ممارسات جاهزة ومُسماة**. المستخدم لا يبدأ من فراغ، بل يختار نمط استخدام قريبًا من تجارب مألوفة في منصات أخرى، ما يقلل زمن التعلّم ويزيد التبني.

هذا الأسلوب لا يلغي التخصيص، بل يؤطره. المستخدم المحترف يستطيع التعديل، لكن ضمن نظام يتحقق من التعارضات ويحافظ على منطق موحد. هكذا يتحقق التوازن بين المرونة والانضباط، وهو نفس المبدأ الذي أثبت نجاحه في بيئات عمل احترافية طويلة الجلسات.

---

**ثالثًا: تقييد الأشرطة مع استثناء مدروس للشريط الجانبي**

أحد الانتقادات التاريخية لبعض شاشات SAP هو إخفاء الشريط الجانبي بالكامل في سياقات معينة، ما حرم المستخدم من القدرة على التراجع أو الانتقال السريع، وخلق إحساسًا بالعزلة داخل الشاشة. القرار الحالي يعالج هذا الخطأ مباشرة.

جميع الأشرطة مقيدة وثابتة، باستثناء قابلية **طي الشريط الجانبي فقط**. هذا الاستثناء ليس تجميليًا، بل وظيفي: الشجرة قد تكون كبيرة وتقلل مساحة المحتوى، خصوصًا في الشاشات الكثيفة. الطي يحل المشكلة دون قطع الإحساس بالمكان. حتى وهو مطوي، يبقى الشريط حاضرًا كمرجع مكاني وزر فتح دائم، ما يحافظ على الإدراك المكاني للمستخدم.

في الشاشات الكبيرة، يكون الطي الافتراضي وسيلة لإعطاء أولوية للمحتوى، مع إبقاء التنقل الطرفي سريعًا عند الحاجة. هذا خروج نمطي بسيط عن SAP، لكنه خروج مصحح لا اعتباطي.

---

**رابعًا: الشاشات المفتوحة حديثًا كبديل للأزرار الزائدة**

إضافة “الشاشات المفتوحة حديثًا” ليست مجرد تحسين راحة، بل معالجة مباشرة لتخوف الانتقال المتكرر. بدل إغراق الواجهة بأزرار تنقل إضافية، يتم الاعتماد على سلوك طبيعي يعكس استخدام المستخدم الفعلي.

هذا يخدم المحترفين الذين يتنقلون بين عدد محدود من الشاشات بشكل متكرر، ويقلل الحاجة إلى العودة الدائمة للشجرة. في الوقت نفسه، لا يلغي الشجرة ولا يقلل من أهميتها للمستخدمين الجدد.

---

**خامسًا: فتح المجلد بالنقرة المطوّلة وعرضه كبطاقات**

التخوف هنا عادةً يكون: “هل نزيد التعقيد؟”. في الواقع، القرار يقلل التعقيد الإدراكي. فتح المجلد بالنقرة المطولة لا ينقل المستخدم مباشرة، بل يعرض محتواه كبطاقات داخل الشاشة، مع وصف ووظيفة لكل شاشة أو مجلد.

هذا يحول المجلد من “بوابة عبور” إلى “مساحة شرح”. المستخدم الجديد يتعلم بصريًا ويتجنب الوقوع في متاهات النظام، بينما المحترف يتجاوز هذا المستوى كليًا عبر المفضلة أو الشاشات الحديثة. النظام لا يفرض سلوكًا واحدًا، لكنه لا يغير لغته أو بنيته.

---

**سادسًا: التخزين المحلي للإعدادات مقابل الاستعلام المتكرر عن الصلاحيات**

أحد أكبر التخوفات التقنية هو تأثير الأداء والأمان. في الوضع الحالي، يتم طلب الصلاحيات عند كل فتح شاشة، ما يسبب تأخيرًا ملحوظًا. المعالجة المقترحة تعتمد فصلًا واضحًا بين نوعين من البيانات:

* **بيانات سيادية** (الصلاحيات، ما يُسمح بالوصول إليه): تُحدّث عند تسجيل الدخول أو بتجديد دوري (مثل كل ساعة).
* **بيانات سلوكية** (الاختصارات، القوالب، الشاشات الحديثة، المفضلة، حجم الخط، تفضيلات الطي): تُخزَّن محليًا في ملفات settings على العميل.

بهذا الأسلوب، يحصل المستخدم على تجربة فورية دون انتظار، بينما يبقى مصدر الحقيقة للصلاحيات مركزيًا وغير قابل للتلاعب. حتى الاختصارات تُخزَّن محليًا، لأنها لا تمنح صلاحية جديدة، بل تختصر طريقًا مسموحًا أصلًا.

هذا النموذج مستوحى من أسلوب VS Code، لكنه مطبق بحذر يناسب بيئة ERP مؤسسية، خصوصًا ضمن إطار Next.js الذي يسمح بإدارة هذا الفصل بكفاءة.


---


نظرًا لاحتمالية وجود أشرطة داخلية على مستوى الصفحة (Page-level Bars) في مراحل لاحقة، كان من الضروري تثبيت تسميات واضحة وغير قابلة للاجتهاد للأشرطة العامة الخارجية (Global / Shell Level). يُعتمد ما يلي كتسمية رسمية في الوثائق، الكود، والنقاشات المعمارية:

1. **SideNavigationBar**
   الشريط الجانبي الرئيسي المسؤول عن بنية النظام (المجلدات، الشاشات، المفضلة، المفتوحة حديثًا).

2. **TopGlobalBar**
   الشريط العلوي الدائم الذي يمثل سقف النظام، ويحتوي على القوائم العليا واسم الشاشة الحالية ومعلومات الجلسة.

3. **SearchNavigationBar**
   الشريط الواقع أسفل الشريط العلوي، ويشمل المسار (Breadcrumb)، البحث متعدد الطبقات، وأزرار التنقل.

4. **StatusNotificationBar**
   الشريط السفلي الدائم المخصص لحالة النظام والإشعارات.
